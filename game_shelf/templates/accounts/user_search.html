{% extends "base.html" %}
{% block content %}

<h2>Find Users</h2>

<form method="get" class="mb-3">
    <input 
        type="text"
        name="q"
        value="{{ query }}"
        class="form-control"
        placeholder="Search by username...">
</form>

{% if results %}
    <ul class="list-group mt-3">
        {% for user in results %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href="{% url 'accounts:user_profile' user.username %}">
                    {{ user.username }}
                </a>

                <form method="post" action="{% url 'accounts:follow_toggle' user.username %}">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-sm btn-primary">
                        Follow
                    </button>
                </form>
            </li>
        {% endfor %}
    </ul>
{% elif query %}
    <p>No users found.</p>
{% endif %}

{% endblock %}
